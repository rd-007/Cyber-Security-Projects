# IoT Device Vulnerability Scanner ‚Äì Full Build Guide

A step-by-step walkthrough, mirroring the structure of the first project, to get you from setup to scanning and reporting.

---

## 0. Prerequisites

* Python 3.11
* `nmap` installed and on PATH (`nmap -V`)
* Administrator/root privileges (needed for some host discovery techniques)
* Optional: Docker (for containerised runs)

---

## 1. Setup

```bash
# navigate to repo root if not already
cd IoT Device Vulnerability Scanner

python -m venv .venv
# Windows PowerShell
.venv\Scripts\Activate.ps1
# macOS/Linux
source .venv/bin/activate

pip install -r requirements.txt
```

---

## 2. Quick CLI scan

```bash
python -m cli scan 192.168.1.0/24
```

Output appears in a Rich table listing IPs, vendor, open ports, and CVE count.

---

## 3. Run REST API

```bash
uvicorn api.main:app --reload --port 8001
```

* Open `http://localhost:8001/docs`.
* Example curl:
  ```bash
  curl -X POST http://localhost:8001/scan -H "Content-Type: application/json" -d '{"subnet": "192.168.1.0/24"}'
  ```

---

## 4. Update CVE database (optional)

1. Download NVD JSON feeds (free): <https://nvd.nist.gov/vuln/data-products>  
2. Write a small parser or extend `scannerlib.vuln` to ingest the gzipped JSON and keep only vendor, cve_id, description, severity.  
3. Save trimmed list to `scannerlib/cve_db.json`.

---

## 5. Packaging

See the Dockerfile template below:

```Dockerfile
FROM python:3.11-slim
RUN apt-get update && apt-get install -y nmap && rm -rf /var/lib/apt/lists/*
WORKDIR /app
COPY . .
RUN pip install --no-cache-dir -r requirements.txt
EXPOSE 8001
CMD ["uvicorn", "api.main:app", "--host", "0.0.0.0", "--port", "8001"]
```

Build & run:
```bash
docker build -t iot-scanner .
docker run --net host iot-scanner   # --net host so container can reach LAN
```

---

## 6. Next improvements

* Async scanner to speed up large subnets.
* UI dashboard aggregating multiple scans.
* Asset database with time-series of changes.
* Notification hooks (email/webhook) for new high-severity CVEs found.

---

Happy scanning! üîç
